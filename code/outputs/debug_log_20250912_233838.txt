INFO:__main__:🔎 Logging VacayMate run to: C:\Users\97254\Documents\Ready_Tensor_AI_Course\course_workspace\VacayMate\code\nodes\..\outputs\debug_log_20250912_233838.txt
🚀 Starting VacayMate System...
INFO:__main__:Initializing VacayMate system...
INFO:__main__:Building LangGraph state machine...
INFO:__main__:LangGraph state machine built successfully.
INFO:__main__:VacayMate system initialized.

User Request Details:
   Current Location: Barcelona
   Destination: Paris
   Start Date: 2025-09-15
   Return Date: 2025-09-20

INFO:__main__:Starting workflow with request: Plan a trip from Barcelona to Paris from 2025-09-15 to 2025-09-20.
INFO:__main__:🎬 Manager Agent: Finalizing and completing run...
INFO:__main__:🔍 Researcher Agent: Starting research...
INFO:__main__:- Finding flight prices...
2025-09-15T00:00:00
2025-09-15T23:59:59
2025-09-20T00:00:00
2025-09-20T23:59:59
INFO:__main__:  - get_flight_prices (normalized) itineraries: 0
INFO:__main__:- Finding hotel prices...
INFO:__main__:  - hotel_search (normalized) hotels count: 20
INFO:__main__:💰 Calculator Agent: Calculating quotation...
INFO:__main__:🗓️ Planner Agent: Starting to plan...
INFO:__main__:- Getting weather forecast...
INFO:__main__:  - Invoking make_quotation with hotel_prices: [249.0, 85.0, 254.0, 107.0, 168.0, 648.0, 778.0, 235.0, 94.0, 314.0, 147.0, 187.0, 444.0, 822.0, 116.0, 235.0, 117.0, 115.0, 332.0, 360.0] and flight_prices: [0]
ERROR:__main__:Weather forecast tool returned a non-dictionary type: <class 'str'>
INFO:__main__:  - get_weather_forecast returned: 0 forecasts, hr_summary present: False
INFO:__main__:- Finding local events...
INFO:httpx:HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
INFO:__main__:  - make_quotation returned: {
  "days": 5,
  "hotel_total": 1451.75,
  "flight_total": 0.0,
  "daily_cost_estimate": 120.0,
  "daily_total": 600.0,
  "subtotal": 2051.75,
  "commission_rate": 0.1,
  "commission_amount": 205.18,
  "final_quotation": 2256.93
}
INFO:__main__:  - search_events returned: 12874 normalized events
❌ An error occurred during the planning process: At key 'user_request': Can receive only one value per step. Use an Annotated key to handle multiple values.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_CONCURRENT_GRAPH_UPDATE
